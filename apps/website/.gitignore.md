# Git Ignore Configuration for Brebaje Website

## Overview

This document explains what files are tracked in git and what files are ignored (generated during build).

## ✅ Files TRACKED in Git (Configuration & Source)

These files are committed to the repository because they are needed to generate the documentation:

### Configuration Files

- `package.json` - Dependencies and scripts
- `docusaurus.config.js` - Main Docusaurus configuration (includes TypeDoc plugin setup)
- `sidebars.js` - Sidebar structure configuration
- `tsconfig.json` - TypeScript configuration
- `.gitignore` - Git ignore rules

### Source Documentation

- `docs/intro.md` - Introduction page
- `docs/setup.md` - Setup guide
- `docs/contributing.md` - Contributing guide
- `docs/developer-guide.md` - Developer guide
- `docs/tsdoc-guide.md` - TSDoc style guide

### Source Code

- `src/css/custom.css` - Custom styles
- `src/pages/index.tsx` - Homepage component

### Static Assets

- `static/img/logo.svg` - Logo
- `static/img/favicon.ico` - Favicon

### Documentation Files

- `README.md` - Website documentation
- `QUICK_START.md` - Quick start guide
- `IMPLEMENTATION_NOTES.md` - Implementation details

## ❌ Files IGNORED (Generated During Build)

These files are NOT committed to git because they are automatically generated:

### Generated API Documentation

- `docs/api/**` - All TypeDoc-generated API documentation (206+ files)
  - Generated from backend source code via TypeDoc
  - Includes: modules, classes, interfaces, enums, functions
  - Regenerated on every build

### Build Artifacts

- `build/**` - Production build output
  - Static HTML, CSS, JS files
  - Generated by `pnpm build`

### Development Cache

- `.docusaurus/**` - Docusaurus cache
  - Generated during development and build
  - Contains webpack cache, generated metadata

### Dependencies

- `node_modules/**` - Package dependencies
  - Installed via `pnpm install`

### Other Generated Files

- `.cache-loader` - Webpack cache loader files
- `npm-debug.log*` - NPM debug logs
- `yarn-debug.log*` - Yarn debug logs
- `yarn-error.log*` - Yarn error logs

### Environment Files

- `.env.local`
- `.env.development.local`
- `.env.test.local`
- `.env.production.local`

## How It Works

### Build Process Flow

1. **Developer commits**: Only configuration and source documentation files
2. **CI/CD runs**:
   - `pnpm install` - Installs dependencies
   - `pnpm build` - Runs TypeDoc + Docusaurus build
   - TypeDoc reads backend source code
   - TypeDoc generates `docs/api/**` markdown files
   - Docusaurus builds static site in `build/`
3. **Deployment**: Static files from `build/` are deployed

### Why This Approach?

✅ **Benefits:**

- **Single source of truth**: API docs generated from code
- **Always up-to-date**: Docs regenerate on every build
- **No manual sync**: Backend changes automatically reflected
- **Smaller repo**: No generated files in git history
- **No merge conflicts**: Generated files don't cause conflicts

❌ **What NOT to do:**

- Don't commit `docs/api/**` files
- Don't commit `build/**` artifacts
- Don't commit `node_modules/**`
- Don't edit generated API docs manually (they'll be overwritten)

## Verification

To verify what will be committed:

```bash
# Show what would be tracked
cd apps/website
git status

# Check if a file is ignored
git check-ignore -v docs/api/index.md
git check-ignore -v build/index.html

# Should show files NOT in .gitignore
git add -n .
```

## Current .gitignore Rules

```gitignore
# Dependencies
/node_modules

# Production
/build

# Generated files
.docusaurus
.cache-loader

# Misc
.DS_Store
.env.local
.env.development.local
.env.test.local
.env.production.local

npm-debug.log*
yarn-debug.log*
yarn-error.log*

# TypeDoc generated docs (these should be regenerated on build)
/docs/api
```

## File Count Summary

- **Tracked files**: ~17 configuration and source files
- **Ignored generated files**: 206+ API documentation files
- **Total reduction**: ~92% fewer files in git

## Troubleshooting

### Problem: Generated files showing in git status

```bash
# Check if file should be ignored
git check-ignore -v path/to/file

# If not ignored, add to .gitignore
echo "/path/to/file" >> .gitignore
```

### Problem: Need to remove already-tracked generated files

```bash
# Remove from git but keep locally
git rm -r --cached docs/api/
git commit -m "chore: stop tracking generated API docs"
```

### Problem: Verify .gitignore is working

```bash
# Test if patterns work
git check-ignore -v docs/api/auth/auth.controller/index.md
# Should output: apps/website/.gitignore:23:/docs/api
```

## Best Practices

1. **Never manually edit** files in `docs/api/` - they'll be overwritten
2. **Always regenerate** API docs before deploying
3. **Keep .gitignore updated** if adding new generated directories
4. **Document custom docs** in `docs/` (not `docs/api/`)
5. **Commit config changes** that affect documentation generation

## Related Files

- Root `.gitignore` - Workspace-level ignores
- `apps/backend/.gitignore` - Backend-specific ignores
- `apps/frontend/.gitignore` - Frontend-specific ignores
- `apps/cli/.gitignore` - CLI-specific ignores

## Summary

✅ **Commit to git:**

- Configuration files (package.json, docusaurus.config.js, sidebars.js)
- Source documentation (docs/\*.md, excluding docs/api/)
- Source code (src/\*\*)
- Static assets (static/\*\*)

❌ **Do NOT commit:**

- Generated API docs (docs/api/\*\*)
- Build artifacts (build/\*\*)
- Cache files (.docusaurus/\*\*)
- Dependencies (node_modules/\*\*)

This ensures a clean repository with only source files, while generated documentation is created on-demand during builds.
